<div class="product-form-wrapper">
  <form
    action="/products/<%= product.product_id %>?_method=PATCH"
    method="POST"
    class="product-form"
  >
    <div class="product-form-top">
      <label>product_name:</label>
      <input
        type="text"
        class="product-name"
        name="product_name"
        value="<%=product.product_name%>"
        disabled
      />

      <label>product_price:</label>
      <input
        type="number"
        step="0.01"
        class="product_price"
        name="product_price"
        value="<%=product.product_price%>"
        disabled
      />
    </div>
    <div class="product-form-top">
      <label>product_image:</label>
      <input
        type="text"
        class="product-image"
        name="product_image"
        value="<%= product.product_image %>"
        disabled
      />

      <label>category_id:</label>
      <input
        type="number"
        class="category-id"
        name="category_id"
        value="<%=product.category_id%>"
        disabled
      />
    </div>
    <div class="product-form-bottom">
      <label for="product-description">product_description:</label><br />
      <textarea
        type="text"
        class="product_description"
        name="product_description"
        disabled
      >
  <%= product.product_description %></textarea
      >
    </div>
    <div class="product-form-control">
      <div class="product-form-selection">
        <label
          >product_name: <input type="checkbox" id="enable-product-name"
        /></label>
        <label
          >product_price: <input type="checkbox" id="enable-product-price"
        /></label>
        <label
          >product_image: <input type="checkbox" id="enable-product-image"
        /></label>
        <label
          >category_id: <input type="checkbox" id="enable-category-id"
        /></label>
        <label
          >product_description:
          <input type="checkbox" id="enable-product-description"
        /></label>
      </div>

      <button type="submit" class="add-product">Replace</button>
    </div>
  </form>
</div>
<script>
  // Should be serving this, but it's 'development' right?
  const productNameInput = document.querySelector(".product-name");
  const productPriceInput = document.querySelector(".product_price");
  const productImageInput = document.querySelector(".product-image");
  const categoryIdInput = document.querySelector(".category-id");
  const productDescriptionInput = document.querySelector(
    ".product_description"
  );

  //   const productForm = document.querySelector(".product-form");

  const enableProductName = document.getElementById("enable-product-name");
  const enableProductPrice = document.getElementById("enable-product-price");
  const enableProductImage = document.getElementById("enable-product-image");
  const enableCategoryId = document.getElementById("enable-category-id");
  const enableProductDescription = document.getElementById(
    "enable-product-description"
  );

  enableProductName.addEventListener("change", () => {
    productNameInput.disabled = !enableProductName.checked;
  });
  enableProductPrice.addEventListener("change", () => {
    productPriceInput.disabled = !enableProductPrice.checked;
  });
  enableProductImage.addEventListener("change", () => {
    productImageInput.disabled = !enableProductImage.checked;
  });
  enableCategoryId.addEventListener("change", () => {
    categoryIdInput.disabled = !enableCategoryId.checked;
  });
  enableProductDescription.addEventListener("change", () => {
    productDescriptionInput.disabled = !enableProductDescription.checked;
  });

  //   productForm.addEventListener("submit", () => {
  //     productDescriptionInput.disabled = false;
  //   });
</script>
